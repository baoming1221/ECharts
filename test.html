<!DOCTYPE html>
<head>
	<meta charset="utf-8">
	<title>modular single file import</title>
</head>

<body>
	<div id="main" style="height:400px"></div>
	<script src="http://echarts.baidu.com/build/dist/echarts.js"></script>
	<script type="text/javascript">
		//configure for module loader a path of echarts and the chart you need(the relative path is to link from the current page to echarts.js)
		require.config({
			paths:{
				echarts:'http://echarts.baidu.com/build/dist'
			}
		});
		// Dynamically load echarts and the chart you need in the <script> tag. Use callback function to initialize and drive the generation of charts.
		//use
		require(
			[
				'echarts',
				//'echarts/chart/line'
				'echarts/chart/bar'  //require the specific chart type
			],
			function (ec){
				// initialize after dom ready
				var myChart = ec.init(document.getElementById('main'));
				
				var option = {
					title : {
						text:'降水',
						subtext:'纯属\n虚构',
						padding:[10,20,30,40],
						itemGap:30,
						backgroundColor:'green',
						//borderColor:'red',
						borderWidth:5,
						textStyle:{
							fontSize:18,
							fontWeight:'bolder',
							color:'yellow'
						},
						subtextStyle:{
							color:'pink'
						},
						x:'100', //'left','center','right'
						y:'top',
						textAlign:'left'
					},

					grid : {
						x:100,
						y:50,
						//x2:200,
						//y2:100,
						//width:'50%',
						//height:'70%',
						//backgroundColor:'orange',
						borderWidth:0,
						//borderColor:'red'
					},

					xAxis : [
						{
							type:'category',
							boundaryGap:true,
							show:true,
							position:'bottom',
							axisLabel:{
								show:true,
								rotate:30,
								margin:10,
								clickable:true,
								//formatter:30, 疑问
								textStyle:{
									color:'green'
								}
							},
							axisLine:{
								lineStyle:{
									color:'#33b',
									type:'dashed',
									width:5
								}
							},
							axisTick:{
								show:true,
								inside:true,
								length:15,
								lineStyle:{
									color:'red',
									width:4
								}
							},
							splitLine:{
								show:false,
								/*lineStyle:{
									color:'blue',
									width:2,
									type:'solid'
								}*/
							},
							splitArea:{show:false},
							data:['Jan', 'Feb', 
							{
								value:'Mar',
								textStyle:{
									fontSize:18,
									fontWeight:'800',
									fontFamily:'sans-serif',
									color:'red'
								}
							}, 'Apr', 'May', 'Jun']
						}
					],

					yAxis : [
						{
							type:'value',
							//min:2,
							//max:190,
							//splitNumber:3,
							scale:true,
							axisLine:{show:false},
							splitArea:{
								show:true,
								areaStyle:{
									color:['rgba(250,250,250,0.3)','rgba(200,200,200,0.3)']
								}
							}
							
						}
					],

					legend : {
						orient:'horizontal',
						x:'center',
						y:'top',
						backgroundColor:'green',
						borderColor:'red',
						borderWidth:4,
						padding:8,
						itemGap:18,
						itemWidth:20,
						itemHeight:20,
						textStyle:{
							color:'yellow'
						},
						selected:{
							'降水量':false
						},
						//formatter:'{name}ECharts',
						/*formatter:function(name){
							var data = this.getSeries()[0].data;
							var total = 0;
							var tarvalue;
							for(var i=0; l = data.length; i<l; i++){
								total += data[i].value;
								if(data[i].name==name){
									tarvalue = data[i].value;
								}
							}
							var p = (tarvalue/total*100).toFixed(2);
							return name + '' + p + '%';
						},*/  //此处还是有些问题
						data:['蒸发量',
						{
							name:'降水量',
							textStyle:{
								color:'red'
							},
							icon:'image://http://img4.3lian.com/img2005/10/05/09.png'//非折线图表类型才可支持Icon替换
						},

						'','最高气温'

						]
						
					},

					tooltip:{
						trigger:'axis',//视觉编码触发，类似地图饼图;‘axis’用于直角系下
						showContent:true,
						backgroundColor:'rgba(0,0,0,0.7)',
						borderColor:'#222',
						borderWidth:4,
						borderRadius:10,
						/*
						position:function(p){
							return [p[0]+100,p[1]-100];
						},*/
						position:[0,0],
						showDelay:0,
						transitionDuration:0,
						hideDelay:100,
						axisPointer:{
							type:'shadow',
							lineStyle:{
								color:'#48b',
								width:2,
								type:'solid'
							},
							crossStyle:{
								color:'#1e90ff',
								width:1,
								type:'dashed'
							},
							shadowStyle:{
								color:'rgba(150,150,150,0.3)',
								width:'auto',
								type:'default'
							}
						},
						formatter:'{a}:{b}:{c}<br/>{a1}{b1}{c1}'
					},

					series : [
						{
							name:'蒸发量',
							type:'bar',
							data:[2.0, 4.9, 7.0, 23.2, 25.6, 76.7, 135.6, 162.2, 32.6, 20.0, 6.4, 3.3]

						},
						{
							name:'降水量',
							type:'bar',
							data:[2.6, 5.9, 9.0, 26.4, 28.7, 70.7, 175.6, 182.2, 48.7, 18.8, 6.0, 2.3]
						}
					]

				};
				
				// load data into the ECharts instance
				myChart.setOption(option);
				
				window.onresize = myChart.resize;
			}
		);
	</script>
</body>